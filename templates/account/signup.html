{% extends 'base.html' %}
{% comment %} {% block title %}Sign Up{% endblock %}
{% block content %}
    <div class="max-w-md mx-auto bg-white dark:bg-gray-800 p-8 rounded-lg shadow-md">
        <h1 class="text-2xl font-bold mb-4">Sign Up</h1>
        <form method="post" class="space-y-4">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit" class="bg-primary text-white p-2 rounded-md w-full hover:bg-blue-700">Sign Up</button>
        </form>
        <p class="mt-4 text-center">Already have an account? <a href="{% url 'account_login' %}" class="text-primary hover:underline">Login</a></p>
    </div>
{% endblock %} {% endcomment %}

{% comment %} {% load socialaccount %}
{% block title %}Sign Up{% endblock %}

{% block content %}
<div class="max-w-md mx-auto bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-lg">

    <h1 class="text-2xl font-bold text-center mb-6">Create your account</h1>

    <!-- ðŸ”¹ Google Signup -->
    <a href="{% provider_login_url 'google' %}"
       class="w-full flex items-center justify-center gap-3 border border-gray-300 dark:border-gray-600 
              rounded-lg py-2.5 mb-5 hover:bg-gray-100 dark:hover:bg-gray-700 transition">
        <img src="https://www.svgrepo.com/show/475656/google-color.svg" class="w-5 h-5" alt="Google">
        <span class="font-medium">Continue with Google</span>
    </a>

    <!-- Divider -->
    <div class="flex items-center my-4">
        <div class="flex-grow border-t border-gray-300 dark:border-gray-600"></div>
        <span class="px-3 text-sm text-gray-500">or</span>
        <div class="flex-grow border-t border-gray-300 dark:border-gray-600"></div>
    </div>

    <!-- ðŸ”¹ Normal Signup Form -->
    <form method="post" class="space-y-4">
        {% csrf_token %}
        {{ form.as_p }}

        <button type="submit"
                class="w-full bg-indigo-600 hover:bg-indigo-700 text-white py-2.5 rounded-lg font-semibold transition">
            Sign Up
        </button>
    </form>

    <p class="mt-6 text-center text-sm">
        Already have an account?
        <a href="{% url 'account_login' %}" class="text-indigo-500 hover:underline">Login</a>
    </p>

</div>
{% endblock %} {% endcomment %}


{% load socialaccount %}
{% block title %}Sign Up{% endblock %}
{% block content %}
<!-- Override container constraints -->
<style>
    /* Remove any padding/margins from parent containers */
    body {
        margin: 0 !important;
        padding: 0 !important;
    }
    
    .container, .content-wrapper {
        max-width: none !important;
        padding: 0 !important;
        margin: 0 !important;
    }
    
    /* Make the signup section full viewport */
    #full-screen-signup {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: 9999;
        margin: 0 !important;
        padding: 0 !important;
    }
</style>

<div id="full-screen-signup" class="flex">
    <!-- Left Side - Visual/Brand Experience -->
    <div class="hidden lg:flex lg:w-1/2 bg-gradient-to-br from-indigo-600 via-purple-700 to-pink-600 relative overflow-hidden">
        <!-- Animated Background Pattern -->
        <div class="absolute inset-0 opacity-10">
            <div class="absolute top-20 left-20 w-72 h-72 bg-white rounded-full mix-blend-overlay filter blur-3xl animate-blob"></div>
            <div class="absolute top-40 right-20 w-72 h-72 bg-blue-300 rounded-full mix-blend-overlay filter blur-3xl animate-blob animation-delay-2000"></div>
            <div class="absolute bottom-20 left-40 w-72 h-72 bg-purple-300 rounded-full mix-blend-overlay filter blur-3xl animate-blob animation-delay-4000"></div>
        </div>

        <!-- Content -->
        <div class="relative z-10 flex flex-col justify-center px-16 text-white">
            <div class="mb-8">
                <h1 class="text-5xl font-black mb-4 tracking-tight">
                    Data<span class="text-purple-200">Pros</span>
                </h1>
                <div class="w-20 h-1 bg-purple-300 rounded-full"></div>
            </div>
            
            <h2 class="text-4xl font-bold mb-6 leading-tight">
                Start Your Data<br/>
                <span class="text-purple-200">Journey Today</span>
            </h2>
            
            <p class="text-xl text-purple-100 mb-12 leading-relaxed max-w-md">
                Join our thriving community of data scientists, analysts, and engineers. Get access to exclusive content, tutorials, and industry insights.
            </p>

            <!-- Benefits -->
            <div class="space-y-4 max-w-lg">
                <div class="flex items-start gap-4">
                    <div class="w-10 h-10 rounded-full bg-purple-500/30 flex items-center justify-center flex-shrink-0">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                        </svg>
                    </div>
                    <div>
                        <h3 class="font-semibold text-lg mb-1">Expert-Led Content</h3>
                        <p class="text-purple-100 text-sm">Learn from industry professionals with real-world experience</p>
                    </div>
                </div>
                <div class="flex items-start gap-4">
                    <div class="w-10 h-10 rounded-full bg-purple-500/30 flex items-center justify-center flex-shrink-0">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                        </svg>
                    </div>
                    <div>
                        <h3 class="font-semibold text-lg mb-1">Weekly Updates</h3>
                        <p class="text-purple-100 text-sm">Stay current with the latest trends and technologies</p>
                    </div>
                </div>
                <div class="flex items-start gap-4">
                    <div class="w-10 h-10 rounded-full bg-purple-500/30 flex items-center justify-center flex-shrink-0">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                        </svg>
                    </div>
                    <div>
                        <h3 class="font-semibold text-lg mb-1">Community Support</h3>
                        <p class="text-purple-100 text-sm">Connect with thousands of like-minded professionals</p>
                    </div>
                </div>
            </div>

            <!-- Decorative Elements -->
            <div class="absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-black/20 to-transparent"></div>
        </div>
    </div>

    <!-- Right Side - Signup Form -->
    <div class="w-full lg:w-1/2 flex items-center justify-center px-6 py-12 bg-white dark:bg-gray-900 overflow-y-auto">
        <div class="w-full max-w-md">
            <!-- Mobile Logo -->
            <div class="lg:hidden text-center mb-8">
                <h1 class="text-3xl font-bold">
                    <span class="text-purple-600">Data</span><span class="text-gray-900 dark:text-white">Pros</span>
                </h1>
            </div>

            <!-- Welcome Header -->
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-2">
                    Create your account ðŸš€
                </h2>
                <p class="text-gray-600 dark:text-gray-400">
                    Start your data science journey in seconds
                </p>
            </div>

            <!-- Social Signup First -->
            <div class="mb-6">
                <a href="{% provider_login_url 'google' %}"
                   class="flex items-center justify-center gap-3 w-full
                          bg-white dark:bg-gray-800
                          border-2 border-gray-200 dark:border-gray-700
                          text-gray-700 dark:text-white
                          py-4 rounded-2xl
                          hover:border-purple-500 hover:bg-purple-50 dark:hover:bg-gray-700
                          transition-all duration-300 font-semibold
                          shadow-sm hover:shadow-lg group">
                    <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg"
                         class="w-6 h-6 group-hover:scale-110 transition-transform" alt="Google">
                    Sign up with Google
                </a>
            </div>

            <!-- Divider -->
            <div class="relative mb-6">
                <div class="absolute inset-0 flex items-center">
                    <span class="w-full border-t border-gray-200 dark:border-gray-700"></span>
                </div>
                <div class="relative flex justify-center text-sm">
                    <span class="bg-white dark:bg-gray-900 px-4 text-gray-500 dark:text-gray-400 font-medium">
                        Or sign up with email
                    </span>
                </div>
            </div>

            <!-- Form -->
            <form method="post" class="space-y-5">
                {% csrf_token %}

                {% for field in form %}
                <div class="group">
                    {% if field.field.widget.input_type == 'checkbox' %}
                        <!-- Checkbox field -->
                        <label for="{{ field.id_for_label }}" class="flex items-start gap-3 cursor-pointer group-checkbox">
                            <input type="checkbox" id="{{ field.id_for_label }}" name="{{ field.name }}" 
                                   class="mt-1 w-5 h-5 text-purple-600 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 cursor-pointer"
                                   {% if field.field.required %}required{% endif %}>
                            <span class="text-sm text-gray-600 dark:text-gray-400 group-checkbox-hover:text-gray-900 dark:group-checkbox-hover:text-white transition-colors">
                                {{ field.label }}
                            </span>
                        </label>
                    {% else %}
                        <!-- Regular input fields -->
                        <label for="{{ field.id_for_label }}"
                               class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">
                            {{ field.label }}
                        </label>

                        <div class="relative">
                            {{ field.as_widget|safe }}
                            
                            <!-- Password toggle button -->
                            {% if field.field.widget.input_type == 'password' %}
                            <button type="button" 
                                    onclick="togglePassword(this)" 
                                    class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-purple-600 transition-colors focus:outline-none">
                                <!-- Eye icon (show password) -->
                                <svg class="w-5 h-5 eye-open" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                                </svg>
                                <!-- Eye slash icon (hide password) -->
                                <svg class="w-5 h-5 eye-closed hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"/>
                                </svg>
                            </button>
                            {% else %}
                            <!-- Icon indicators for other fields -->
                            <div class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 transition-colors group-focus-within:text-purple-600">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                </svg>
                            </div>
                            {% endif %}
                        </div>
                    {% endif %}

                    {% if field.errors %}
                        <div class="mt-2 p-3 bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500 rounded-r-lg">
                            <p class="text-red-600 dark:text-red-400 text-sm flex items-center gap-2">
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/>
                                </svg>
                                {{ field.errors.0 }}
                            </p>
                        </div>
                    {% endif %}
                </div>
                {% endfor %}

                <style>
    /* Modern Input Styling */
    input[type="text"],
    input[type="password"],
    input[type="email"] {
        width: 100%;
        padding: 1rem 3rem 1rem 1rem;
        border-radius: 1rem;
        border: 2px solid #e5e7eb;
        background-color: #ffffff;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        font-size: 1rem;
        color: #111827;
    }

    .dark input[type="text"],
    .dark input[type="password"],
    .dark input[type="email"] {
        border-color: #374151;
        background-color: #1f2937;
        color: #ffffff;
    }

    /* Focus Animation */
    input:focus {
        outline: none;
        border-color: #9333ea;
        background-color: #faf5ff;
        box-shadow: 0 0 0 4px rgba(147, 51, 234, 0.1), 0 10px 25px -5px rgba(147, 51, 234, 0.1);
        transform: translateY(-2px);
    }

    .dark input:focus {
        background-color: #1f2937;
        box-shadow: 0 0 0 4px rgba(147, 51, 234, 0.2), 0 10px 25px -5px rgba(147, 51, 234, 0.2);
    }

    input::placeholder {
        color: #9ca3af;
    }

    /* Checkbox Styling */
    input[type="checkbox"] {
        appearance: none;
        -webkit-appearance: none;
        position: relative;
    }

    input[type="checkbox"]:checked {
        background-color: #9333ea;
        border-color: #9333ea;
    }

    input[type="checkbox"]:checked::after {
        content: '';
        position: absolute;
        left: 0.3rem;
        top: 0.05rem;
        width: 0.4rem;
        height: 0.7rem;
        border: solid white;
        border-width: 0 2px 2px 0;
        transform: rotate(45deg);
    }

    input[type="checkbox"]:hover {
        border-color: #9333ea;
    }

    input[type="checkbox"]:focus {
        outline: none;
        box-shadow: 0 0 0 3px rgba(147, 51, 234, 0.2);
    }

    /* Animations */
    @keyframes blob {
        0%, 100% { transform: translate(0, 0) scale(1); }
        33% { transform: translate(30px, -50px) scale(1.1); }
        66% { transform: translate(-20px, 20px) scale(0.9); }
    }

    .animate-blob {
        animation: blob 7s infinite;
    }

    .animation-delay-2000 {
        animation-delay: 2s;
    }

    .animation-delay-4000 {
        animation-delay: 4s;
    }
</style>

<script>
function togglePassword(button) {
    const input = button.parentElement.querySelector('input');
    const eyeOpen = button.querySelector('.eye-open');
    const eyeClosed = button.querySelector('.eye-closed');
    
    if (input.type === 'password') {
        input.type = 'text';
        eyeOpen.classList.add('hidden');
        eyeClosed.classList.remove('hidden');
    } else {
        input.type = 'password';
        eyeOpen.classList.remove('hidden');
        eyeClosed.classList.add('hidden');
    }
}
</script>

                <!-- Submit Button -->
                <button type="submit"
                    class="w-full bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700
                           text-white font-bold py-4 rounded-2xl 
                           transition-all duration-300 transform hover:scale-[1.02] hover:shadow-2xl active:scale-[0.98]
                           shadow-lg shadow-purple-500/30
                           relative overflow-hidden group">
                    <span class="relative z-10 flex items-center justify-center gap-2">
                        Create Account
                        <svg class="w-5 h-5 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
                        </svg>
                    </span>
                    <div class="absolute inset-0 bg-gradient-to-r from-indigo-600 to-purple-600 opacity-0 group-hover:opacity-100 transition-opacity"></div>
                </button>
            </form>

            <!-- Login Link -->
            <div class="mt-8 text-center">
                <p class="text-gray-600 dark:text-gray-400">
                    Already have an account?
                    <a href="{% url 'account_login' %}"
                       class="text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300 font-bold transition-colors ml-1 inline-flex items-center gap-1 group">
                        Sign in
                        <svg class="w-4 h-4 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
                        </svg>
                    </a>
                </p>
            </div>

            <!-- Trust Message -->
            <div class="mt-8 pt-6 border-t border-gray-200 dark:border-gray-700">
                <p class="text-xs text-center text-gray-500 dark:text-gray-400">
                    By signing up, you agree to our Terms of Service and Privacy Policy
                </p>
            </div>
        </div>
    </div>
</div>
{% endblock %}